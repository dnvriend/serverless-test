# 01_helloworld_js

## Files
In the `01_helloworld_js` directory we have the following files:

- handler.js
- serverless.yml

## Deploy
To deploy, type: `sls deploy`

## Deploy information
When the deployment has finished we can type `sls info` to display information about the service:

```
$ sls info
Service Information
service: helloworld-js
stage: dev
region: us-east-1
stack: helloworld-js-dev
api keys:
  None
endpoints:
  None
functions:
  hello: helloworld-js-dev-hello
```

Please note the name of the function, which is `hello`

## Invoking the function
The function can be invoked with the following command:

```
$ sls invoke --function hello
{
    "message": "Hi, this function worked!"
}
```

We can also invoke the function with data that we can send to the function and request the log to be returned to us:

```
$ sls invoke --function hello --data 'To the cloud' --log
{
    "message": "Hi, this function worked!"
}
--------------------------------------------------------------------
START RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438 Version: $LATEST
2017-10-12 19:17:37.057 (+02:00)	3e593b81-af71-11e7-8103-1fff5ef7f438	"To the cloud"
END RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438
REPORT RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438	Duration: 1.92 ms	Billed Duration: 100 ms 	Memory Size: 1024 MB	Max Memory Used: 20 MB
```

## Getting the logs of a function
We can get the logs that has been generated by the function:

```
sls logs -f hello
START RequestId: 019f1f2f-af71-11e7-9316-ffd9b289d8aa Version: $LATEST
2017-10-12 19:15:55.471 (+02:00)	019f1f2f-af71-11e7-9316-ffd9b289d8aa	{}
END RequestId: 019f1f2f-af71-11e7-9316-ffd9b289d8aa
REPORT RequestId: 019f1f2f-af71-11e7-9316-ffd9b289d8aa	Duration: 2.37 ms	Billed Duration: 100 ms 	Memory Size: 1024 MB	Max Memory Used: 19 MB

START RequestId: 03d8e2bb-af71-11e7-b3fb-c34473934a4c Version: $LATEST
2017-10-12 19:15:58.893 (+02:00)	03d8e2bb-af71-11e7-b3fb-c34473934a4c	{}
END RequestId: 03d8e2bb-af71-11e7-b3fb-c34473934a4c
REPORT RequestId: 03d8e2bb-af71-11e7-b3fb-c34473934a4c	Duration: 0.40 ms	Billed Duration: 100 ms 	Memory Size: 1024 MB	Max Memory Used: 20 MB

START RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438 Version: $LATEST
2017-10-12 19:17:37.057 (+02:00)	3e593b81-af71-11e7-8103-1fff5ef7f438	"To the cloud"
END RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438
REPORT RequestId: 3e593b81-af71-11e7-8103-1fff5ef7f438	Duration: 1.92 ms	Billed Duration: 100 ms 	Memory Size: 1024 MB	Max Memory Used: 20 MB
```

## Getting the metrics of a function
We can also get metrics of a specific function:

```
$ sls metrics -f hello
hello
October 11, 2017 7:23 PM - October 12, 2017 7:23 PM

Invocations: 3
Throttles: 0
Errors: 0
Duration (avg.): 1.56ms
```

## Remove/Uninstall the service
To remove/uninstall the service from AWS type:

```
$ sls remove
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
....
Serverless: Stack removal finished...   
```

When we ask serverless about information about the uninstalled service we get the following message:

```
$ sls info

  Serverless Error ---------------------------------------

  Stack with id helloworld-js-dev does not exist

  Get Support --------------------------------------------
     Docs:          docs.serverless.com
     Bugs:          github.com/serverless/serverless/issues
     Forums:        forum.serverless.com
     Chat:          gitter.im/serverless/serverless

  Your Environment Information -----------------------------
     OS:                     darwin
     Node Version:           8.7.0
     Serverless Version:     1.23.0
```